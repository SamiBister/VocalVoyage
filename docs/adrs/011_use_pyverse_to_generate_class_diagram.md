# Architectural Decision Record: Use PyVerse for Generating Class Diagrams in Python

## Status

Approved

## Date

2024-11-30

## Context

To enhance our project documentation and improve developers' understanding of the codebase structure, we need a tool for generating class diagrams for Python projects. The tool should be easy to use, compatible with Python, and produce clear and maintainable diagrams. Ideally, it should integrate well with our development and CI/CD workflows.

## Decision

We have decided to use [PyVerse](https://github.com/pyverse) for generating class diagrams in our Python projects.

### Rationale

1. **Python-Specific Features**: PyVerse is designed for Python and provides robust support for Python-specific constructs like classes, inheritance, and relationships.
2. **Ease of Use**: The tool requires minimal setup and can generate diagrams directly from Python codebases.
3. **Visual Clarity**: PyVerse produces clean and well-structured diagrams that are easy to understand.
4. **Active Development**: The project is actively maintained, ensuring compatibility with modern Python versions and features.
5. **Integration Support**: PyVerse integrates seamlessly with existing Python projects and supports exporting diagrams in various formats (e.g., PNG, SVG).

## Consequences

### Positive Consequences

- **Improved Codebase Understanding**: Developers can quickly grasp the architecture and relationships within the codebase.
- **Enhanced Documentation**: Diagrams generated by PyVerse can be included in project documentation, improving clarity.
- **Automation**: Class diagrams can be auto-generated during the CI/CD process, ensuring they remain up-to-date.

### Negative Consequences

- **Learning Curve**: Team members may require initial training to understand PyVerse's usage and configuration.
- **Dependency**: Adding PyVerse introduces an additional dependency that requires maintenance and version management.
- **Performance**: Generating large diagrams for complex projects may take significant time and resources.

## Alternatives Considered

1. **Graphviz with Manual Scripting**

   - Pros: Highly customizable; widely used.
   - Cons: Requires significant manual effort and expertise.

2. **PlantUML**

   - Pros: Versatile, with support for multiple diagram types.
   - Cons: Requires manually creating or scripting diagram definitions; less Python-specific.

3. **Manual Diagram Creation**
   - Pros: Offers complete control over diagram design.
   - Cons: Time-consuming and prone to inconsistencies.

## Implementation Plan

1. **Install PyVerse**:

   ```bash
   pip install pyverse
   ```

2. **Generate Initial Class Diagram**:
   Use PyVerse to scan the project and generate a class diagram:

   ```bash
   pyverse --input src --output diagrams/class_diagram.svg
   ```

3. **Integrate into Build Process**:
   Add a script to generate class diagrams automatically as part of the build process:

   ```bash
   python -m pyverse --input src --output diagrams/class_diagram.svg
   ```

4. **Automate with CI/CD**:
   Update the CI/CD pipeline to regenerate diagrams during builds:

   ```yaml
   steps:
     - name: Generate Class Diagrams
       run: python -m pyverse --input src --output diagrams/class_diagram.svg
   ```

5. **Document Usage**:
   Add instructions to the project README or developer guide for team members to generate and update class diagrams.

## Links

- [PyVerse Documentation](https://github.com/pyverse)
