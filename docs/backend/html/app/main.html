<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
<meta name="generator" content="pdoc3 0.11.3">
<title>app.main API documentation</title>
<meta name="description" content="VocabVoyage API …">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/sanitize.min.css" integrity="sha512-y1dtMcuvtTMJc1yPgEqF0ZjQbhnc/bFhyvIyVNb9Zk5mIGtqVaAB1Ttl28su8AvFMOY0EwRbAe+HCLqj6W7/KA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/typography.min.css" integrity="sha512-Y1DYSb995BAfxobCkKepB1BqJJTPrOp3zPL74AWFugHHmmdcvO+C48WLrUOlhGMc0QG7AE3f7gmvvcrmX2fDoA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:1.5em;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:2em 0 .50em 0}h3{font-size:1.4em;margin:1.6em 0 .7em 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .2s ease-in-out}a:visited{color:#503}a:hover{color:#b62}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900;font-weight:bold}pre code{font-size:.8em;line-height:1.4em;padding:1em;display:block}code{background:#f3f3f3;font-family:"DejaVu Sans Mono",monospace;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em 1em;margin:1em 0}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul ul{padding-left:1em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" integrity="sha512-D9gUyxqja7hBtkWpPWGt9wfbfaMGVt9gnyCvYa+jojwwPHLCzUm5i8rpk7vD7wNee9bA35eYIjobYPaQuKS1MQ==" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => {
hljs.configure({languages: ['bash', 'css', 'diff', 'graphql', 'ini', 'javascript', 'json', 'plaintext', 'python', 'python-repl', 'rust', 'shell', 'sql', 'typescript', 'xml', 'yaml']});
hljs.highlightAll();
})</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>app.main</code></h1>
</header>
<section id="section-intro">
<p>VocabVoyage API</p>
<p>This module sets up the FastAPI application for the VocabVoyage project. It includes
endpoints for setting quiz modes and handling user answers. The application uses
various internal modules and services to manage words and log quiz activities.</p>
<p>Internal Imports:
- app.domain.models: Contains the Word and QuizMode models.
- app.interfaces.logger: Provides the QuizLogger for logging quiz activities.
- app.interfaces.repositories: Contains the WordRepository for managing word data.
- app.use_cases.word_service: Provides the WordService for word-related operations.</p>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="app.main.check_answer"><code class="name flex">
<span>async def <span class="ident">check_answer</span></span>(<span>answer: <a title="app.main.AnswerRequest" href="#app.main.AnswerRequest">AnswerRequest</a>)</span>
</code></dt>
<dd>
<div class="desc"><p>Check if the user's answer is correct.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>answer</code></strong> :&ensp;<code><a title="app.main.AnswerRequest" href="#app.main.AnswerRequest">AnswerRequest</a></code></dt>
<dd>The user's answer request containing the word and user input.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>dict</code></dt>
<dd>A dictionary with a key 'is_correct' indicating whether the user's answer is correct.</dd>
</dl></div>
</dd>
<dt id="app.main.end_quiz"><code class="name flex">
<span>async def <span class="ident">end_quiz</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Endpoint to end the current quiz session and log the results.</p>
<p>This endpoint marks the end of the current quiz session. It triggers the logging
of the quiz results, including the number of correct and incorrect answers, and
any other relevant statistics. This can be useful for tracking user performance
and providing feedback.</p>
<h2 id="returns">Returns</h2>
<pre><code>JSONResponse: A response indicating that the quiz has ended and results have been logged.
</code></pre></div>
</dd>
<dt id="app.main.get_next_word"><code class="name flex">
<span>async def <span class="ident">get_next_word</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Endpoint to retrieve the next word in the quiz.</p>
<h2 id="returns">Returns</h2>
<pre><code>Optional[Word]: The next word in the quiz, or None if there are no more words.
</code></pre></div>
</dd>
<dt id="app.main.get_results"><code class="name flex">
<span>async def <span class="ident">get_results</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Endpoint to get current quiz statistics.</p></div>
</dd>
<dt id="app.main.set_mode"><code class="name flex">
<span>async def <span class="ident">set_mode</span></span>(<span>request: <a title="app.main.ModeRequest" href="#app.main.ModeRequest">ModeRequest</a>)</span>
</code></dt>
<dd>
<div class="desc"><p>Sets the quiz mode.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>request</code></strong> :&ensp;<code><a title="app.main.ModeRequest" href="#app.main.ModeRequest">ModeRequest</a></code></dt>
<dd>The request containing the desired mode.</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>HTTPException</code></dt>
<dd>If the mode is not 'normal' or 'infinite'.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>JSONResponse</code></dt>
<dd>A response indicating the mode has been set.</dd>
</dl></div>
</dd>
<dt id="app.main.start_quiz"><code class="name flex">
<span>async def <span class="ident">start_quiz</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Endpoint to start a new quiz session.</p>
<p>This endpoint resets the current quiz session and starts a new one. It clears any
previous quiz data and prepares the system for a new quiz session. This can be
useful when a user wants to restart the quiz from the beginning.</p>
<h2 id="returns">Returns</h2>
<pre><code>JSONResponse: A response indicating that the quiz has started.
</code></pre></div>
</dd>
<dt id="app.main.upload_words"><code class="name flex">
<span>async def <span class="ident">upload_words</span></span>(<span>files: List[fastapi.datastructures.UploadFile] = File(PydanticUndefined))</span>
</code></dt>
<dd>
<div class="desc"><p>Endpoint to upload new word files.</p>
<p>This endpoint allows users to upload new word files in CSV format. It clears any
existing word files in the data directory and replaces them with the newly uploaded
files. The words from the new files are then loaded into the system.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>files</code></strong> :&ensp;<code>List[UploadFile]</code></dt>
<dd>A list of uploaded files. Each file must be in CSV format.</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>HTTPException</code></dt>
<dd>If any of the uploaded files is not a CSV file.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>dict</code></dt>
<dd>A message indicating that the word files have been uploaded and the word list has been updated.</dd>
</dl></div>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="app.main.AnswerRequest"><code class="flex name class">
<span>class <span class="ident">AnswerRequest</span></span>
<span>(</span><span>**data: Any)</span>
</code></dt>
<dd>
<div class="desc"><p>Request model for submitting an answer.</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>word</code></strong> :&ensp;<code>Word</code></dt>
<dd>The word object of the questioner.</dd>
<dt><strong><code>user_input</code></strong> :&ensp;<code>str</code></dt>
<dd>The user's input for the word.</dd>
</dl>
<p>Create a new model by parsing and validating input data from keyword arguments.</p>
<p>Raises [<code>ValidationError</code>][pydantic_core.ValidationError] if the input data cannot be
validated to form a valid model.</p>
<p><code>self</code> is explicitly positional-only to allow <code>self</code> as a field name.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class AnswerRequest(BaseModel):
    &#34;&#34;&#34;
    Request model for submitting an answer.

    Attributes
    ----------
    word : Word
        The word object of the questioner.
    user_input : str
        The user&#39;s input for the word.
    &#34;&#34;&#34;
    word: Word
    user_input: str</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>pydantic.main.BaseModel</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="app.main.AnswerRequest.model_config"><code class="name">var <span class="ident">model_config</span></code></dt>
<dd>
<div class="desc"><p>The type of the None singleton.</p></div>
</dd>
<dt id="app.main.AnswerRequest.user_input"><code class="name">var <span class="ident">user_input</span> : str</code></dt>
<dd>
<div class="desc"><p>The type of the None singleton.</p></div>
</dd>
<dt id="app.main.AnswerRequest.word"><code class="name">var <span class="ident">word</span> : <a title="app.domain.models.Word" href="domain/models.html#app.domain.models.Word">Word</a></code></dt>
<dd>
<div class="desc"><p>The type of the None singleton.</p></div>
</dd>
</dl>
</dd>
<dt id="app.main.ModeRequest"><code class="flex name class">
<span>class <span class="ident">ModeRequest</span></span>
<span>(</span><span>**data: Any)</span>
</code></dt>
<dd>
<div class="desc"><p>Request model for setting the quiz mode.</p>
<h2 id="attributes">Attributes</h2>
<pre><code>mode (str): The quiz mode, either 'normal' or 'infinite'.
</code></pre>
<p>Create a new model by parsing and validating input data from keyword arguments.</p>
<p>Raises [<code>ValidationError</code>][pydantic_core.ValidationError] if the input data cannot be
validated to form a valid model.</p>
<p><code>self</code> is explicitly positional-only to allow <code>self</code> as a field name.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ModeRequest(BaseModel):
    &#34;&#34;&#34;
    Request model for setting the quiz mode.

    Attributes
    ----------
        mode (str): The quiz mode, either &#39;normal&#39; or &#39;infinite&#39;.
    &#34;&#34;&#34;
    mode: str  # &#39;normal&#39; or &#39;infinite&#39;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>pydantic.main.BaseModel</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="app.main.ModeRequest.mode"><code class="name">var <span class="ident">mode</span> : str</code></dt>
<dd>
<div class="desc"><p>The type of the None singleton.</p></div>
</dd>
<dt id="app.main.ModeRequest.model_config"><code class="name">var <span class="ident">model_config</span></code></dt>
<dd>
<div class="desc"><p>The type of the None singleton.</p></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="app" href="index.html">app</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="two-column">
<li><code><a title="app.main.check_answer" href="#app.main.check_answer">check_answer</a></code></li>
<li><code><a title="app.main.end_quiz" href="#app.main.end_quiz">end_quiz</a></code></li>
<li><code><a title="app.main.get_next_word" href="#app.main.get_next_word">get_next_word</a></code></li>
<li><code><a title="app.main.get_results" href="#app.main.get_results">get_results</a></code></li>
<li><code><a title="app.main.set_mode" href="#app.main.set_mode">set_mode</a></code></li>
<li><code><a title="app.main.start_quiz" href="#app.main.start_quiz">start_quiz</a></code></li>
<li><code><a title="app.main.upload_words" href="#app.main.upload_words">upload_words</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="app.main.AnswerRequest" href="#app.main.AnswerRequest">AnswerRequest</a></code></h4>
<ul class="">
<li><code><a title="app.main.AnswerRequest.model_config" href="#app.main.AnswerRequest.model_config">model_config</a></code></li>
<li><code><a title="app.main.AnswerRequest.user_input" href="#app.main.AnswerRequest.user_input">user_input</a></code></li>
<li><code><a title="app.main.AnswerRequest.word" href="#app.main.AnswerRequest.word">word</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="app.main.ModeRequest" href="#app.main.ModeRequest">ModeRequest</a></code></h4>
<ul class="">
<li><code><a title="app.main.ModeRequest.mode" href="#app.main.ModeRequest.mode">mode</a></code></li>
<li><code><a title="app.main.ModeRequest.model_config" href="#app.main.ModeRequest.model_config">model_config</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.11.3</a>.</p>
</footer>
</body>
</html>
